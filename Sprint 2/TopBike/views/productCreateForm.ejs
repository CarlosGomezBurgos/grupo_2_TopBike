<!DOCTYPE html>
<html lang="es">
    <head>
    <%- include('partials/head.ejs') %>
    <link rel="stylesheet" href="/css/create.css">
    </head>
    <body>
            <%- include('partials/header.ejs') %>
            <div class="carrusel">
                    <img src="/img/carrusel.jpg" alt="carrusel" class="carrusel-foto">
            </div>
            <main>
                <div class="contenedor-create-form">
                    <div class="errors" style="color: red;">
                        <ul>
            
                        </ul>
                    </div>
                    <div class="">
                        <div class="col-12">
                            <h2 class="products-title">Crear Producto</h2>
                        </div>
                    </div>
                               
                    <div class="col-12">
                        <form action="/product" method="POST" enctype="multipart/form-data">
                            <div class="row product-detail">
                                <div class="area col-12 col-md-6">
                                    <label for="name" class="form-label">Nombre del producto:</label>
                                    <input 
                                        type="text" 
                                        id="name" 
                                        name="name" 
                                        placeholder="Ej: Zapatillas Reebok" 
                                        class="form-input"
                                        value="<%= locals.oldData ? oldData.name : null %>"
                                    >
                                    <% if (locals.errors && errors.name) { %>
                                        <p style="color: red"><%= errors.name.msg %> </p>
                                    <% } %>
                                    </div>
                                <div class="area col-12 col-md-6">
                                    <label for="price" class="form-label">Precio del producto:</label>
                                    <input 
                                        type="text" 
                                        id="price" 
                                        name="price" 
                                        placeholder="Ej: 5678" 
                                        class="form-input"
                                        value="<%= locals.oldData ? oldData.price : null %>"
                                        >
                                    <% if (locals.errors && errors.price) { %>
                                        <p style="color: red"><%= errors.price.msg %> </p>
                                    <% } %>
                                </div>
                                <div class="area col-12 col-md-6">
                                    <label for="discount" class="form-label">Descuento:</label>
                                    <input 
                                        type="text" 
                                        id="discount" 
                                        name="discount" 
                                        placeholder="Ej: 15" 
                                        class="form-input"
                                        value="<%= locals.oldData ? oldData.discount : null %>"
                                        >
                                    <% if (locals.errors && errors.discount) { %>
                                        <p style="color: red"><%= errors.discount.msg %> </p>
                                    <% } %>
                                </div>
                                <div class="area col-12 col-md-6">
                                    <label for="category" class="form-label">Categoría:</label>
                                    <select 
                                        name="category" 
                                        id="category" 
                                        class="form-input"
                                        >
                                        <option value="">Elegí</option>
                                        <% let options = ['ofertas','productos-destacados'] %> 
                                        <% for (const oneOption of options) { %>
                                            <option 
                                                value="<%= oneOption %>"
                                                <%= (oneOption === oldData.category) ? 'selected' : null %> 
                                            > <%= oneOption %> </option>
                                        <% } %>
                                    </select>
                                    <% if (locals.errors && errors.category) { %>
                                        <p style="color: red"><%= errors.category.msg %> </p>
                                    <% } %>
                                </div>
                                <div class="area col-12">
                                    <label for="description" class="form-label">Descripción:</label>
                                    <textarea name="description" id="description" class="form-input">
                                        <%= oldData.description %>
                                    </textarea>
                                    <% if (locals.errors && errors.description) { %>
                                        <p style="color: red"><%= errors.description.msg %> </p>
                                    <% } %>
                                </div>
                                <div class="area col-12 col-md-6">
                                    <label for="image" class="form-label">Imagen del producto:</label>
                                    <input type="file" id="image" name="image">
                                    <% if (locals.errors && errors.image) { %>
                                        <p style="color: red"><%= errors.image.msg %> </p>
                                    <% } %>
                                </div>
    
                                <div class="area col-12">
                                    <button type="submit" class="buy-now-button">Guardar producto</button>
                                </div>
                            </div>
                        </form>
                    </div>
    
                </div>
            </main>
            <%- include('partials/footer.ejs') %>
            <script src="/js/productCreateFormValidation.js"></script>
    </body>
</html>